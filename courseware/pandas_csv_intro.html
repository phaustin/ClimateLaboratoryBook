
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reading &amp; Summarizing CSV Data &#8212; Climate Laboratory Book</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.c441f2ba0852f4cabcb80105e3a46ae6.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://a301_web.eoas.ubc.ca/courseware/pandas_csv_intro.html" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://a301_web.eoas.ubc.ca/courseware/pandas_csv_intro.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Reading &amp; Summarizing CSV Data" />
<meta property="og:description" content="Reading &amp; Summarizing CSV Data  Credit: the notebooks in this folder are lightly modified versions of work by Jennifer Walker presented at the EOAS python works" />


<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Climate Laboratory Book</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../home.html">
   The Climate Laboratory
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Syllabus
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus.html">
   Course structure and Outline
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Front matter
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../preamble.html">
   Preamble
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about.html">
   About this Book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../who-for.html">
   Who is the book for?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../how-to.html">
   How to use this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../attribution.html">
   How to cite and reuse this material
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra_reading.html">
   Additional resources
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="models-budgets-fun.html">
   1. Climate models, the global energy budget, and Fun with Python
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="zero-dim-ebm.html">
   2. Modeling the global energy budget
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="analytical-efolding.html">
     2.10.1. Advanced topic: Analytical solution of the global Energy Balance Model
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="climate-system-models.html">
   3. The climate system and climate models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="introducing-cesm.html">
   4. Introducing the Community Earth System Model (CESM)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="climlab-intro.html">
   5. Building simple climate models using climlab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="radiation.html">
   6. A Brief Review of Radiation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="elementary-greenhouse.html">
   7. Elementary greenhouse models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sympy-greenhouse.html">
   8. Advanced topic: Solving the two-layer grey gas model analytically with sympy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="grey-radiation-climlab.html">
   9. Grey radiation modeling with climlab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="radiative-transfer.html">
   10. Modeling non-scattering radiative transfer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="spectral-bands.html">
   11. Who needs spectral bands? We do. Some baby steps…
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="radeq.html">
   12. Radiative Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rce.html">
   13. Radiative-Convective Equilibrium
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="sensitivity-feedback.html">
   14. Climate sensitivity and feedback
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-sensitivity-feedback.html">
     14.8.1. Advanced topic: Climate sensitivity and feedback
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="transient-cesm.html">
   15. Examing the transient and equilibrium CO
   <span class="math notranslate nohighlight">
    \(_2\)
   </span>
   response in the CESM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="transient-toy.html">
   16. Toy models of transient warming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="clouds.html">
   17. Clouds and cloud feedback
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="insolation.html">
   18. Insolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="orbital.html">
   19. Orbital variations, insolation, and the ice ages
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="heat-transport.html">
   20. Heat transport
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-heat-transport.html">
     20.7.1. Advanced topic: Heat transport decomposition
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="one-dim-ebm.html">
   21. The one-dimensional energy balance model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="seasonal-cycle.html">
   22. Modeling the seasonal cycle of surface temperature
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cesm-atmospheric-dynamics.html">
   23. Atmospheric Dynamics in the CESM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numerical-diffusion.html">
   24. A peek at numerical methods for diffusion models
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="albedo-snowball.html">
   25. Ice-albedo feedback and Snowball Earth in the EBM
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-albedo-feedback.html">
     25.9.1. Advanced topic: Ice albedo feedback in the EBM – test2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-snowball-earth.html">
     25.9.2. Advanced topic: Snowball Earth and Large Ice Cap Instability in the EBM
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cesm-coupled-dynamics.html">
   26. Coupled Dynamics in the CESM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="surface-energy-balance.html">
   27. The surface energy balance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="land-ocean-contrast.html">
   28. Land-Ocean contrasts under climate change
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="water-water-everywhere.html">
   29. Water, water everywhere!
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../about-assignments.html">
   About the assignments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-zero-dim-ebm.html">
   Assignment: Climate change in the zero-dimensional EBM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-cesm-control.html">
   Assignment: Global average budgets in the CESM pre-industrial control simulation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-cesm-control-hints.html">
   Additional hints and guidance for CESM budgets assignment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-simple-clouds.html">
   Assignment: Clouds in the Leaky Greenhouse Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-rcm-feedback.html">
   Assignment: Feedbacks in the Radiative-Convective Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-cesm-climate-change.html">
   Assignment: Climate change in the CESM simulations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assignment-insolation-orbit.html">
   Assignment: Insolation and orbital parameters
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Extra notebooks
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="hydrostat.html">
   Hydrostatic balance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hydrostatic_balance.html">
   Scale heights for typical atmospheric soundings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hydrostatic_balance.html#use-pd-dataframe-head-to-see-first-5-lines">
   Use pd.DataFrame.head to see first 5 lines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multi_layer_equilibrium.html">
   Radiative equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bayes_lecture.html">
   What I wish I’d known about statistics
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  References
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/courseware/pandas_csv_intro.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/courseware/pandas_csv_intro.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/phaustin/ClimateLaboratoryBook/jb?urlpath=tree/content/courseware/pandas_csv_intro.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="http://jupyter-1.eoas.ubc.ca:8082/hub/user-redirect/git-pull?repo=https://github.com/phaustin/ClimateLaboratoryBook&urlpath=tree/ClimateLaboratoryBook/content/courseware/pandas_csv_intro.md&branch=jb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#learning-objectives">
   Learning objectives
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#folder-setup">
   Folder setup
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#paths-to-data">
     Paths to data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pandas-dataframes-vs-numpy-arrays">
   Pandas dataframes vs. numpy arrays
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intro-to-pandas">
   Intro to Pandas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-pandas">
   Why Pandas?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-a-csv-file">
   Reading a CSV file
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-pathlib-module">
     The pathlib module
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-at-a-glance">
   Data at a Glance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#number-of-rows-and-columns">
     Number of rows and columns:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simple-summary-statistics">
     Simple Summary Statistics
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercise">
   Exercise
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-overview">
     Data Overview
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bonus-exercises">
     Bonus exercises
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="reading-summarizing-csv-data">
<span id="pandas-intro"></span><h1>Reading &amp; Summarizing CSV Data<a class="headerlink" href="#reading-summarizing-csv-data" title="Permalink to this headline">¶</a></h1>
<p>Credit: the notebooks in this folder are lightly modified versions of work by Jennifer Walker presented
at the EOAS python workshop in October, 2018: https://github.com/jenfly/eoas-python</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">a301_lib</span>

<span class="kn">import</span> <span class="nn">pandas</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="learning-objectives">
<h2>Learning objectives<a class="headerlink" href="#learning-objectives" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Learn how to read, process and write data in csv/xlsx/tabular format using pandas</p></li>
<li><p>In parts 2 and parts 3:</p>
<ul>
<li><p>Learn how to download tabular data from websites with a “restful api”:</p>
<ul>
<li><p>https://stackoverflow.com/questions/671118/what-exactly-is-restful-programming</p></li>
</ul>
</li>
<li><p>Learn how to clean data by filtering missing values, renaming columns, and writing out
processed files for further work</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="folder-setup">
<h2>Folder setup<a class="headerlink" href="#folder-setup" title="Permalink to this headline">¶</a></h2>
<p>As our project grows more complicated, it’s good to have a central
module that keeps track of important files and sets your scripts
up so that they can import functions and classes from you modules.
If you were planning to distribute your project using conda, then
you would need to write an installation script, which is a fair
amount of work.   At this stage, it’s easier and more flexible to
store that information in a file that travels along with your notebook.
We set the “context” for this notebook by importing:
<a class="reference external" href="https://github.com/phaustin/eosc213_students/blob/master/notebooks/pandas/context_pandas1.py">context_pandas1.py</a></p>
<div class="section" id="paths-to-data">
<h3>Paths to data<a class="headerlink" href="#paths-to-data" title="Permalink to this headline">¶</a></h3>
<p>We’re going to download and process sounding data in these folders</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">processed_dir</span> <span class="o">=</span> <span class="n">a301_lib</span><span class="o">.</span><span class="n">data_share</span> <span class="o">/</span> <span class="s2">&quot;pandas/data/processed&quot;</span>
<span class="n">raw_dir</span> <span class="o">=</span> <span class="n">a301_lib</span><span class="o">.</span><span class="n">data_share</span> <span class="o">/</span> <span class="s2">&quot;pandas/data/raw&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="pandas-dataframes-vs-numpy-arrays">
<h2>Pandas dataframes vs. numpy arrays<a class="headerlink" href="#pandas-dataframes-vs-numpy-arrays" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Dataframes are <strong>column oriented</strong>, arrays are <strong>row oriented</strong></p></li>
<li><p>Array items are all of the same dtype (i.e. numpy.float32), dataframe columns can
have different types (e.g.strings vs. integers)</p></li>
<li><p>Dataframe columns can be indexed by name (e.g. “Total area of basin”) or by integer index</p></li>
<li><p>Dataframe rows can be indexed by number of by a special index (e.g. postal code)</p></li>
<li><p>Dataframe objects have dozens of methods to summarize and manipulate the data they hold, making
them similar in features to a lightweight relational database.</p></li>
</ul>
</div>
<div class="section" id="intro-to-pandas">
<h2>Intro to Pandas<a class="headerlink" href="#intro-to-pandas" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> = <a class="reference external" href="https://pandas.pydata.org/">Python Data Analysis Library</a></p></li>
<li><p>Best book: <a class="reference external" href="https://github.com/wesm/pydata-book">Python for data analysis</a> by Wes McKinney</p></li>
<li><p>Jennifer Walker’s <a class="reference internal" href="pandas-cheatsheet.html#pandas-cheatsheet"><span class="std std-ref">Pandas Cheatsheet</span></a></p></li>
<li><p>Library for working with <strong>labelled</strong> tabular data (1-D and 2-D)</p>
<ul>
<li><p>Data formats include: comma separated values (CSV) and other text files, Excel spreadsheets, HDF5, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/io.html">and others</a></p></li>
</ul>
</li>
<li><p>With <code class="docutils literal notranslate"><span class="pre">pandas</span></code> you can do pretty much everything you would in a spreadsheet, plus a whole lot more!</p></li>
</ul>
<blockquote>
<div><p>If you’re working with higher dimensional data and/or netCDF files, check out the excellent <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray library</a>, which brings the labelled data power of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> to N-dimensional arrays</p>
</div></blockquote>
</div>
<div class="section" id="why-pandas">
<h2>Why Pandas?<a class="headerlink" href="#why-pandas" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Working with large data files and complex calculations</p></li>
<li><p>Dealing with messy and missing data</p></li>
<li><p>Merging data from multiple files</p></li>
<li><p>Timeseries analysis</p></li>
<li><p>Automate repetitive tasks</p></li>
<li><p>Combine with other Python libraries to create beautiful and fully customized visualizations</p></li>
</ul>
</div>
<div class="section" id="reading-a-csv-file">
<h2>Reading a CSV file<a class="headerlink" href="#reading-a-csv-file" title="Permalink to this headline">¶</a></h2>
<p>We’ll be working with the file <code class="docutils literal notranslate"><span class="pre">weather_YVR.csv</span></code> in the <code class="docutils literal notranslate"><span class="pre">data</span></code> sub-folder.</p>
<ul class="simple">
<li><p>Environment Canada daily weather measurements at Vancouver Airport from 1938-2017.</p></li>
</ul>
<p>Now let’s read the CSV file into our notebook with the function <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> from the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library.</p>
<ul class="simple">
<li><p>To access functions in the library, we use dot notation again: <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code></p></li>
<li><p>Our input to the read_csv function is the file path as a string: <code class="docutils literal notranslate"><span class="pre">'data/weather_YVR.csv'</span></code></p></li>
</ul>
<p>We’ll store the data as a dataframe called <code class="docutils literal notranslate"><span class="pre">weather</span></code>.</p>
<div class="section" id="the-pathlib-module">
<h3>The pathlib module<a class="headerlink" href="#the-pathlib-module" title="Permalink to this headline">¶</a></h3>
<p>The cell below constructs a <a class="reference external" href="https://realpython.com/python-pathlib/">Path object</a>.  Note the
direction of the “/” separator.  This would not be the way that we would
specify a file on windows (that would be ‘data\weather_YVR.csv’ – Path objects
hide this complexity by understanding whether we are working on windows, linux or macos and
just doing the right thing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather_file</span> <span class="o">=</span> <span class="n">a301_lib</span><span class="o">.</span><span class="n">data_share</span> <span class="o">/</span> <span class="s2">&quot;pandas/data/weather_YVR.csv&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">weather_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>Pro Tips!</p>
</div></blockquote>
<ul class="simple">
<li><p>Try typing <code class="docutils literal notranslate"><span class="pre">pandas.re</span></code> and then press Tab and select <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> from the auto-complete options</p></li>
<li><p>Auto-complete even works for file paths inside a string!</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Only the first 30 and last 30 rows are displayed (but the data is all there in our <code class="docutils literal notranslate"><span class="pre">weather</span></code> variable)</p></li>
<li><p>You may notice some weird <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values—these represent missing data (<code class="docutils literal notranslate"><span class="pre">NaN</span></code> = “not a number”)</p></li>
</ul>
<p>What type of object is <code class="docutils literal notranslate"><span class="pre">weather</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">weather</span></code> is a <strong>DataFrame</strong>, a data structure from the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library</p>
<ul>
<li><p>A DataFrame is a 2-dimensional array (organized into rows and columns, like a table in a spreadsheet)</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>When we display <code class="docutils literal notranslate"><span class="pre">weather</span></code>, the integer numbers in bold on the left are the DataFrame’s <strong>index</strong></p>
<ul>
<li><p>In this case, the index is simply a range of integers corresponding with the row numbers</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span>
</pre></div>
</div>
</div>
</div>
<p>For large DataFrames, it’s often useful to display just the first few or last few rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">weather</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">head</span></code> method returns a new DataFrame consisting of the first <code class="docutils literal notranslate"><span class="pre">n</span></code> rows (default 5)</p>
<blockquote>
<div><p>Pro Tips!</p>
<ul class="simple">
<li><p>To display the documentation for this method, you can run the command <code class="docutils literal notranslate"><span class="pre">weather.head?</span></code> in your Jupyter notebook</p></li>
<li><p>To see other methods available for the DataFrame, type <code class="docutils literal notranslate"><span class="pre">weather.</span></code> followed by Tab for auto-complete options</p></li>
</ul>
</div></blockquote>
<p>First two rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Last four rows:</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="data-at-a-glance">
<h2>Data at a Glance<a class="headerlink" href="#data-at-a-glance" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> provides many ways to quickly and easily summarize your data:</p>
<ul class="simple">
<li><p>How many rows and columns are there?</p></li>
<li><p>What are all the column names and what type of data is in each column?</p></li>
</ul>
<ul class="simple">
<li><p>Numerical data: What is the average and range of the values?</p></li>
<li><p>Text data: What are the unique values and how often does each occur?</p></li>
<li><p>How many values are missing in each column or row?</p></li>
</ul>
<div class="section" id="number-of-rows-and-columns">
<h3>Number of rows and columns:<a class="headerlink" href="#number-of-rows-and-columns" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># - The DataFrame `weather` has 29190 rows and 10 columns</span>
<span class="c1"># - The index does not count as a column</span>
<span class="c1"># - Notice there are no parentheses at the end of `weather.shape`</span>
<span class="c1"># - `shape` is a **data attribute** of the variable `weather`</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">weather</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># The data in the `shape` attribute is stored as a **tuple**, which is similar to a list.</span>
<span class="c1">#</span>
<span class="c1"># - Items in a tuple are enclosed in `()` instead of `[]`</span>
<span class="c1"># - Tuples are immutable - you can&#39;t modify individual items inside a tuple</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Within a column of a DataFrame, the data must all be of the same type</p></li>
<li><p>We can find out the names and data types of each column from the <code class="docutils literal notranslate"><span class="pre">dtypes</span></code> attribute:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
</div>
<p>In a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame, a column containing text data (or containing a mix of text and numbers) is assigned a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of <code class="docutils literal notranslate"><span class="pre">object</span></code> and is treated as a column of strings.</p>
<p><code class="docutils literal notranslate"><span class="pre">int64</span></code> and <code class="docutils literal notranslate"><span class="pre">float64</span></code> are integer and float, respectively.</p>
<ul class="simple">
<li><p>The 64 at the end means that they are stored as 64-bit numbers in memory</p></li>
<li><p>These data types are equivalent to <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code> in Python (<code class="docutils literal notranslate"><span class="pre">pandas</span></code> is a just a bit more explicit in how it names them)</p></li>
</ul>
<p>If we just want a list of the column names, we can use the <code class="docutils literal notranslate"><span class="pre">columns</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="simple-summary-statistics">
<h3>Simple Summary Statistics<a class="headerlink" href="#simple-summary-statistics" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">describe</span></code> method computes simple summary statistics and returns them as a DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">describe</span></code> method is a way to quickly summarize the averages, extremes, and variability of each numerical data column.</p>
<p>You can look at each statistic individually with methods such as <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">median</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>,<code class="docutils literal notranslate"><span class="pre">std</span></code>, and <code class="docutils literal notranslate"><span class="pre">count</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weather</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise">
<h2>Exercise<a class="headerlink" href="#exercise" title="Permalink to this headline">¶</a></h2>
<p>For this exercise, we will explore data about countries around the world, combined from multiple sources by the <a class="reference external" href="https://www.gapminder.org/about-gapminder/">Gapminder foundation</a>.</p>
<p>Gapminder is an independent Swedish foundation that fights devastating misconceptions about global development and promotes a fact-based world view through the production of free teaching and data exploration resources.</p>
<div class="section" id="data-overview">
<h3>Data Overview<a class="headerlink" href="#data-overview" title="Permalink to this headline">¶</a></h3>
<p>The columns of <code class="docutils literal notranslate"><span class="pre">data/gapminder_world_data_2018.csv</span></code> are:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>country</p></td>
<td><p>Country name</p></td>
</tr>
<tr class="row-odd"><td><p>population</p></td>
<td><p>Population in the country</p></td>
</tr>
<tr class="row-even"><td><p>region</p></td>
<td><p>Continent the country belongs to</p></td>
</tr>
<tr class="row-odd"><td><p>sub_region</p></td>
<td><p>Sub regions as defined by</p></td>
</tr>
<tr class="row-even"><td><p>income_group</p></td>
<td><p>Income group <a class="reference external" href="https://datahelpdesk.worldbank.org/knowledgebase/articles/378833-how-are-the-income-group-thresholds-determined">as specified by the world bank</a></p></td>
</tr>
<tr class="row-odd"><td><p>life_expectancy</p></td>
<td><p>The average number of years a newborn child would <br>live if mortality patterns were to stay the same</p></td>
</tr>
<tr class="row-even"><td><p>gdp_per_capita</p></td>
<td><p>GDP per capita (in USD) adjusted <br>for differences in purchasing power</p></td>
</tr>
<tr class="row-odd"><td><p>children_per_woman</p></td>
<td><p>Number of children born to each woman</p></td>
</tr>
<tr class="row-even"><td><p>child_mortality</p></td>
<td><p>Deaths of children under 5 years <br>of age per 1000 live births</p></td>
</tr>
<tr class="row-odd"><td><p>pop_density</p></td>
<td><p>Average number of people per km<span class="math notranslate nohighlight">\(^2\)</span></p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>You may want to refer to the <a class="reference internal" href="pandas-cheatsheet.html"><span class="doc std std-doc">Pandas cheatsheet</span></a> as you work through the exercises.</p>
</div></blockquote>
<p><strong>a)</strong> Read the file <code class="docutils literal notranslate"><span class="pre">data/gapminder_world_data_2018.csv</span></code> into a new DataFrame <code class="docutils literal notranslate"><span class="pre">world</span></code> and display the first 10 rows.</p>
<p><strong>b)</strong> How many rows and columns does <code class="docutils literal notranslate"><span class="pre">world</span></code> have?</p>
<p><strong>c)</strong> Display the names and data types of each column.</p>
<p><strong>d)</strong> Display summary statistics with the <code class="docutils literal notranslate"><span class="pre">describe</span></code> method. What are the lowest and highest populations? How about lowest/highest population densities? Any guesses which countries these might be? (We’ll find out the answers in Lesson 4!)</p>
</div>
<div class="section" id="bonus-exercises">
<h3>Bonus exercises<a class="headerlink" href="#bonus-exercises" title="Permalink to this headline">¶</a></h3>
<p><strong>e) Data wrangling - dealing with header rows</strong></p>
<p>The file <code class="docutils literal notranslate"><span class="pre">data/raw/weather_YVR_1938.csv</span></code> contains the daily weather data for 1938, in the original format downloaded from Environment Canada. Open this file in the JupyterLab CSV viewer to see what it looks like.</p>
<blockquote>
<div><p>Note that the CSV viewer isn’t able to parse the data correctly because of the extra header rows at the beginning.</p>
</div></blockquote>
<ul class="simple">
<li><p>Now try reading the file into your notebook with <code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code> and see what happens.</p></li>
</ul>
<p>If you look at the documentation for <code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code>, you’ll see a <code class="docutils literal notranslate"><span class="pre">skiprows</span></code> input buried amongst a few dozen other inputs for this function. This input tells <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> how many rows to skip at the beginning of the file.</p>
<ul class="simple">
<li><p>Try reading <code class="docutils literal notranslate"><span class="pre">data/raw/weather_YVR_1938.csv</span></code> again, but this time using a value of <code class="docutils literal notranslate"><span class="pre">24</span></code> for the <code class="docutils literal notranslate"><span class="pre">skiprows</span></code> keyword argument, and display the first 5 rows of the resulting DataFrame.</p></li>
</ul>
<p><strong>f) Importing a library from a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file</strong></p>
<p>In the pandas folder, you’ll see a file called <code class="docutils literal notranslate"><span class="pre">ecweather.py</span></code>. It is a Python <em>module</em>, which is a library contained in a single <code class="docutils literal notranslate"><span class="pre">.py</span></code> file (as opposed to a package, which is multiple <code class="docutils literal notranslate"><span class="pre">.py</span></code> files bundled together).</p>
<p>You can import a library from a local <code class="docutils literal notranslate"><span class="pre">.py</span></code> file with the same syntax as any other library. The library name is just the file name minus the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension, so to import this library the syntax is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ecweather</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Import <code class="docutils literal notranslate"><span class="pre">ecweather</span></code> into your notebook, and call the function <code class="docutils literal notranslate"><span class="pre">ecweather.welcome()</span></code> to test it. If everything worked ok, it should print a welcome message.</p></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./courseware"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Brian Rose<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>